@using Viivalista.Models;
@model Tyontekija
@{


}

<h1>Uusi työntekijä</h1>
<br />

@using (Html.BeginForm("Tallenna", "Tyontekija", FormMethod.Post))
{

    @Html.Label("Nimi");
    <br />
    @Html.TextBoxFor(t => t.Nimi, "Nimi");
    //<span asp-validation-for="Nimi" class="text-danger"></span>
    <br />
    @Html.Label("Työntekijäryhmä");
    <br />
    @Html.TextBoxFor(t => t.Tyontekijaryhma, "Tyontekijaryhma");
    //<span asp-validation-for="Tyontekijaryhma" class="text-danger"></span>
    <br />
    var tyop = ViewData["tyopisteet"] as List<Tyopiste>;
    @for (int i = 0; i < tyop.Count(); i++)
    {
        <input id="Tyopisteet_{@i}__Id" name="Tyopisteet[@i].Id" type="hidden" value=@tyop[i].Id />
        @Html.CheckBoxFor(t => t.Tyopisteet[i].Allowed, false)
        @Html.LabelFor(t => t.Tyopisteet[i].Nimi, tyop[i].Nimi)
        <input id="Tyopisteet_{@i}__Nimi" name="Tyopisteet[@i].Nimi" type="hidden" value=@tyop[i].Nimi />
        <br />

    }
    <input type="submit" name="saveButton" value="Tallenna" class="btn-success" />
}

<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.0.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.16.0/jquery.validate.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery.validation.unobtrusive/3.2.6/jquery.validate.unobtrusive.min.js"></script>